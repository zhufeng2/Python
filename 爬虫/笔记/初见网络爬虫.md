# 初见网络爬虫
## 网络连接
给出一个简单的例子来说明网络连接的原理
1. 小红有一台服务器，小明有一台台式电脑
2. 小明的台式电脑发送请求头和消息体到小红的服务器，请求头包含小明现在路由器上的mac地址和小红的IP地址
3. 小明的本地路由器收到信息后把信息理解成数据包发送出去
4. 小明的数据游历了中介服务器，找到了小红的服务器
5. 小红的服务器收到了请求信息，并对此做出处理，返回到小明的路由器，然后路由器把信息传递到小明的台式机器

## BeautifulSoup简介
这是一个最简单的网络爬虫代码
```python
from urllib.request import urlopen
from bs4 import BeautifulSoup
html = urlopen('相应的网址')
bsobj = BeautifulSoup(html.read())
print(bsobj.h1)
```
### BeautifulSoup解析HTML网页
`<head></head>`,`<title></title>`,`<body><h1><p></p></h1></body>`
### BeautifulSoup的findAll()和find()
`finfAll(tag,attributes,recurstive,text,limit,keywords)`
`find(tag,attributes,recurstive,text,limit=1(一级标签),keywords)`
```python
namelist = bsobj.findall("span", {"class":"green"})
for name in namelist:
    print(name.get_text())
```
可以发现页面中所有的带有span标签，用get_text获取的是标签里面的文本，而平常我们是需要把标签一起获取的。
获取含有标签的内容去掉`.get_text`就行

这里给一下我自己练习时的代码
```python
from bs4 import BeautifulSoup
import urllib
from urllib import request
html = urllib.request.urlopen('https://developer.mozilla.org/zh-CN/docs/learn')
bsobj = BeautifulSoup(html.read())
namelist = bsobj.findAll("p",{"class":"summary"})
for name in namelist:
    print(name.get_text())
```
"欢迎来到 MDN 学习区。本系列文章旨在为 Web 开发的纯粹初学者提供一切开始编写简单网站所需的知识。"

经过网页源码检查，确实只有这一段文字满足标签`<p class="summary">........</p>`

**通过keywords查找**
```python
from bs4 import BeautifulSoup
import urllib
from urllib import request
html = urllib.request.urlopen('https://sc.chinaz.com/tupian/')
bsobj = BeautifulSoup(html.read())
namelist = bsobj.findAll("img")
for name in namelist:
    print(name)
```
返回数据
```
<img alt="彩色羽毛图片" src2="//scpic.chinaz.net/Files/pic/pic9/202102/bpic22425_s.jpg"/>
<img alt="郊区沥青公路图片" src2="//scpic2.chinaz.net/Files/pic/pic9/202102/bpic22426_s.jpg"/>
<img alt="洁白荷花荷叶图片" src2="//scpic.chinaz.net/Files/pic/pic9/202102/bpic22427_s.jpg"/>
<img alt="两只灵长类猴子图片" src2="//scpic1.chinaz.net/Files/pic/pic9/202102/bpic22428_s.jpg"/>
<img alt="树干上休息的老鹰图片" src2="//scpic3.chinaz.net/Files/pic/pic9/202102/bpic22429_s.jpg"/>
<img alt="营养红皮洋葱图片" src2="//scpic2.chinaz.net/Files/pic/pic9/202102/bpic22430_s.jpg"/>
<img alt="石洞小鸟休憩图片" src2="//scpic3.chinaz.net/Files/pic/pic9/202101/apic30634_s.jpg"/>
<img alt="个性长发帅哥图片" src2="//scpic2.chinaz.net/Files/pic/pic9/202101/apic30638_s.jpg"/>
<img alt="亚洲精品美女模特图片" src2="//scpic1.chinaz.net/Files/pic/pic9/202101/apic30636_s.jpg"/>
<img alt="高楼林立图片" src2="//scpic3.chinaz.net/Files/pic/pic9/202101/apic30637_s.jpg"/>
<img alt="高颜值美女人体写真图片" src2="//scpic.chinaz.net/Files/pic/pic9/202101/apic30633_s.jpg"/>
<img alt="经典亚洲现代美女图片" src2="//scpic1.chinaz.net/Files/pic/pic9/202101/apic30635_s.jpg"/>
<img alt="复古音乐录音带图片" src2="//scpic.chinaz.net/Files/pic/pic9/202101/hpic3559_s.jpg"/>
<img alt="黑色背景上的雪花片图片" src2="//scpic1.chinaz.net/Files/pic/pic9/202101/hpic3560_s.jpg"/>
<img alt="情人节包装纸包装礼物图片" src2="//scpic.chinaz.net/Files/pic/pic9/202101/hpic3561_s.jpg"/>
<img alt="世界预防艾滋病日宣传图片" src2="//scpic.chinaz.net/Files/pic/pic9/202101/hpic3562_s.jpg"/>
<img alt="手戴戒指的图片" src2="//scpic2.chinaz.net/Files/pic/pic9/202101/hpic3563_s.jpg"/>
<img alt="下雪天情侣相拥图片" src2="//scpic3.chinaz.net/Files/pic/pic9/202101/hpic3564_s.jpg"/>
<img alt="2021跨年夜图片" src2="//scpic2.chinaz.net/Files/pic/pic9/202102/apic30728_s.jpg"/>
<img alt="素颜黑人美女图片" src2="//scpic.chinaz.net/Files/pic/pic9/202102/apic30673_s.jpg"/>
<img alt="情人节快乐主题图片" src2="//scpic2.chinaz.net/Files/pic/pic9/202102/apic30672_s.jpg"/>
<img alt="黑色皮短裙丝袜美女图片" src2="//scpic.chinaz.net/Files/pic/pic9/202102/apic30674_s.jpg"/>
<img alt="录影师帅哥工作图片" src2="//scpic2.chinaz.net/Files/pic/pic9/202101/apic30632_s.jpg"/>
<img alt="2021年牛年福字图片" src2="//scpic.chinaz.net/Files/pic/pic9/202102/apic30724_s.jpg"/>
<img alt="黑色橡胶轮胎图片" src2="//scpic.chinaz.net/Files/pic/pic9/202102/bpic22420_s.jpg"/>
<img alt="长颈鹿吃草图片" src2="//scpic2.chinaz.net/Files/pic/pic9/202102/bpic22419_s.jpg"/>
<img alt="文学书籍素材图片" src2="//scpic2.chinaz.net/Files/pic/pic9/202102/bpic22422_s.jpg"/>
<img alt="咖啡豆特写摄影图片" src2="//scpic.chinaz.net/Files/pic/pic9/202102/bpic22421_s.jpg"/>
<img alt="夜晚璀璨灯光图片" src2="//scpic2.chinaz.net/Files/pic/pic9/202102/bpic22423_s.jpg"/>
<img alt="紫色鸢尾花朵图片" src2="//scpic3.chinaz.net/Files/pic/pic9/202102/bpic22424_s.jpg"/>
```
