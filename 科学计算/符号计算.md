# sympy库的简单运用
## 泰勒展开
例子：
首先我们对$e^x$进行以下方法得到$e^{ix}=\cos x+i\sin x$，（欧拉公式）
```python
from sympy import *
x =symbols("x",real = True)
tend = expand(exp(I*x),complex = True)
tend
```
但是我们需要的是级数的形式，即：
\begin{align*}
e^{x}&=1+x+\frac{x^2}{2!}+\cdots+\frac{x^n}{n!}\\
e^{ix}&=1+ix+\frac{(ix)^2}{2!}+\cdots+\frac{(ix)^n}{n!}
\end{align*}

```python
from sympy import *
x = symbols("x",real = True)
tend = series(exp(I*x),x,0,10)
tend
```
之后对$\cos x$和$\sin x$的展开也是仿照这种形式，最后可以证明得到欧拉公式。

## 证明球体的体积
我们这里使用的是球的切片法来求体积，具体可以参照: 
$$
V=2\int _{0}^{R} \pi r^2 d x =2\int_{0}^{R} \pi (R^2- x^2)dx=\frac{4\pi R^2}{3}
$$

```python
from sympy import *
#这个positive=true相当重要，正整数
r=symbols('r',positive=true)
x,y=symbols('x,y')
circle=2*integrate(sqrt(r**2-x**2),(x,-r,r))
# .subs(原始对象，需要交换的对象)
circle_x=circle.subs(r,sqrt(r**2-x**2))
v=integrate(circle_x,(x,-r,r))
v
```
## 数值微分
对于数值求导和符号求导的区别：[可以看这个链接](https://zhuanlan.zhihu.com/p/109755675)

在计算之前需要定义给出的符号是什么类型的数据
```python
from sympy import *
x=symbols('x',real=True)
h=symbols('h',positive=true)
# cls指的是f是一个函数的符号
f=symbols('f',cls=Function)
diff_1=f(x).diff(x,1)
diff_2=as_finite_diff(diff_1,[x,x+h])
diff_2
```
